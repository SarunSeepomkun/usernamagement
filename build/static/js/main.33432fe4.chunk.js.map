{"version":3,"sources":["Component/PrivateRoute/PrivateRoute.js","Database/firebase.js","Component/Login/Login.js","Component/User/UserInfo/UserInfo.js","Component/User/UserList/UserList.js","Component/Customer/CustomerList/CustomerList.js","App.js","index.js"],"names":["PrivateRoute","Component","component","rest","render","props","localStorage","getItem","to","firebase","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","Login","usernameRef","useRef","passwordRef","useState","error","setError","loading","setLoading","history","useHistory","showAlert","setShowAlert","Login_Click","a","db","firestore","collection","where","current","value","get","data","docs","setItem","id","push","className","onSubmit","autoComplete","htmlFor","type","ref","required","onClick","disabled","Collapse","in","Alert","severity","onClose","UserInfo","handleClose","userInfo","setuserInfo","fetchUserList","Add_or_Update","setAdd_or_Update","emailRef","confirmpasswordRef","firstnameRef","lastnameRef","birthdayRef","setSeverity","CreateUser","add","username","email","password","firstname","lastname","birthday","UpdateUser","doc","set","GetUser","useEffect","e","preventDefault","useStyles","makeStyles","table","Width","UserList","setUserList","classes","openModal","setOpenModal","deleteDialog","setdeleteDialog","map","handleOpen","handleDelete","delete","deleteDialogClose","style","width","TableContainer","Paper","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","row","index","created_date","Modal","open","Dialog","DialogContent","DialogContentText","DialogActions","CustomerList","App","setshowAlert","removeItem","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.33432fe4.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return localStorage.getItem(\"authToken\") !== null ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/Login\" />\r\n        )\r\n      }}\r\n    ></Route>\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAPD_VwI_VDDHlmObOcseFKoQizYbr2_0M\",\r\n  authDomain: \"user-management-c4d51.firebaseapp.com\",\r\n  projectId: \"user-management-c4d51\",\r\n  storageBucket: \"user-management-c4d51.appspot.com\",\r\n  messagingSenderId: \"881201654011\",\r\n  appId: \"1:881201654011:web:18c939fe8273fb1d49685e\",\r\n  measurementId: \"G-XW7GKG0FWM\",\r\n};\r\n\r\nif (firebase.apps.length === 0) {\r\n  firebase.initializeApp(firebaseConfig);\r\n}\r\nexport const auth = firebase.auth();\r\n\r\nexport default firebase;\r\n","import React, { useRef, useState } from \"react\";\r\nimport firebase from \"../../Database/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\n\r\nfunction Login() {\r\n  const usernameRef = useRef(\"\");\r\n  const passwordRef = useRef(\"\");\r\n  const [error, setError] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const [showAlert, setShowAlert] = useState(false);\r\n\r\n  const Login_Click = async () => {\r\n    setLoading(true);\r\n    const db = firebase.firestore();\r\n    const data = await db\r\n      .collection(\"users\")\r\n      .where(\"username\", \"==\", usernameRef.current.value)\r\n      .where(\"password\", \"==\", passwordRef.current.value)\r\n      .get();\r\n\r\n    if (data.docs.length === 1) {\r\n      //login success\r\n\r\n      //setUser(data.docs[0].data().username);\r\n      setLoading(false);\r\n      localStorage.setItem(\"authToken\", data.docs[0].id);\r\n\r\n      history.push(\"/UserList\");\r\n    } else {\r\n      //login failed\r\n      setError(\"Username does not exist or username and password incorrect\");\r\n      setLoading(false);\r\n      setShowAlert(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"section-login\">\r\n      <form onSubmit={Login_Click} autoComplete=\"off\">\r\n        <div className=\"card\">\r\n          <h2 className=\"text-center m-1\">Login Page</h2>\r\n          <div className=\"container grid grid-2\">\r\n            <label htmlFor=\"txtUsername\">Username</label>\r\n            <input\r\n              id=\"txtUsername\"\r\n              type=\"email\"\r\n              ref={usernameRef}\r\n              required\r\n              className=\"textbox\"\r\n            />\r\n            <label htmlFor=\"txtPassword\">Password</label>\r\n            <input\r\n              id=\"txtPassword\"\r\n              type=\"password\"\r\n              ref={passwordRef}\r\n              className=\"textbox\"\r\n            />\r\n            <span></span>\r\n            <input\r\n              id=\"btnlogin\"\r\n              type=\"submit\"\r\n              className=\"button m-1\"\r\n              onClick={Login_Click}\r\n              disabled={loading}\r\n              value=\"Sign-in\"\r\n            />\r\n          </div>\r\n          <Collapse in={showAlert}>\r\n            <Alert severity=\"error\" onClose={() => setShowAlert(false)}>{error}</Alert>\r\n          </Collapse>\r\n          <label>* You can use sysadmin for Username and p@ssw0rd for Password</label>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport firebase from \"../../../Database/firebase\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\n\r\nfunction UserInfo({ handleClose, userInfo, setuserInfo, fetchUserList }) {\r\n  const [Add_or_Update, setAdd_or_Update] = useState(\"Add user\");\r\n  // const [userInfo, setUserInfo] = useState(null);\r\n  const usernameRef = useRef();\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const confirmpasswordRef = useRef();\r\n  const firstnameRef = useRef();\r\n  const lastnameRef = useRef();\r\n  const birthdayRef = useRef();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const [severity, setSeverity] = useState(\"info\");\r\n\r\n  const handleSave = () => {\r\n    if (\r\n      typeof userInfo === \"undefined\" ||\r\n      userInfo === null ||\r\n      userInfo === \"\"\r\n    ) {\r\n      CreateUser();\r\n    } else {\r\n      UpdateUser();\r\n    }\r\n  };\r\n\r\n  const CreateUser = async () => {\r\n    try {\r\n      setLoading(true);\r\n      if (\r\n        usernameRef.current.value !== \"\" &&\r\n        passwordRef.current.value !== \"\" &&\r\n        passwordRef.current.value === confirmpasswordRef.current.value\r\n      ) {\r\n        await firebase.firestore().collection(\"users\").add({\r\n          username: usernameRef.current.value,\r\n          email: emailRef.current.value,\r\n          password: passwordRef.current.value,\r\n          firstname: firstnameRef.current.value,\r\n          lastname: lastnameRef.current.value,\r\n          birthday: birthdayRef.current.value,\r\n        });\r\n\r\n        setuserInfo(null);\r\n        fetchUserList();\r\n        handleClose();\r\n      } else {\r\n        setError(\"Username is null or Password do not match\");\r\n        setSeverity(\"warning\");\r\n        setShowAlert(true);\r\n      }\r\n    } catch (error) {\r\n      setError(`Error : Cannot register ${error}`);\r\n      setSeverity(\"error\");\r\n      setShowAlert(true);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const UpdateUser = async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      await firebase.firestore().collection(\"users\").doc(userInfo.id).set({\r\n        username: usernameRef.current.value,\r\n        email: emailRef.current.value,\r\n        password: passwordRef.current.value,\r\n        firstname: firstnameRef.current.value,\r\n        lastname: lastnameRef.current.value,\r\n        birthday: birthdayRef.current.value,\r\n      });\r\n      setuserInfo(null);\r\n      fetchUserList();\r\n      handleClose();\r\n    } catch (error) {\r\n      setError(`Error : Cannot register ${error}`);\r\n      setSeverity(\"error\");\r\n      setShowAlert(true);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const GetUser = async () => {\r\n    try {\r\n      const db = firebase.firestore();\r\n      const data = await db.collection(\"users\").doc(userInfo.id).get();\r\n      //setUserInfo(data.docs.map((doc) => ({ id: doc.id, ...doc.data() })));\r\n      usernameRef.current.value = data.data().username;\r\n      passwordRef.current.value = data.data().passwordRef;\r\n      confirmpasswordRef.current.value = data.data().passwordRef;\r\n      emailRef.current.value = data.data().email;\r\n      firstnameRef.current.value = data.data().firstname;\r\n      lastnameRef.current.value = data.data().lastname;\r\n      birthdayRef.current.value = data.data().birthday;\r\n    } catch (error) {\r\n      setError(`Error : Cannot get user from db ${error}`);\r\n      setSeverity(\"error\");\r\n      setShowAlert(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const Add_or_Update = () => {\r\n      if (\r\n        typeof userInfo !== \"undefined\" &&\r\n        userInfo !== null &&\r\n        userInfo !== \"\"\r\n      ) {\r\n        setAdd_or_Update(\"Update\");\r\n        GetUser();\r\n      } else {\r\n        setAdd_or_Update(\"Add new\");\r\n      }\r\n    };\r\n    Add_or_Update();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"section-userinfo card\">\r\n      <h3 className=\"text-center m-1\">User Information</h3>\r\n      <Collapse in={showAlert}>\r\n        <Alert severity={severity} onClose={() => setShowAlert(false)}>\r\n          {error}\r\n        </Alert>\r\n      </Collapse>\r\n      <form onSubmit={(e) => e.preventDefault()} autoComplete=\"off\">\r\n        <div className=\"grid m-1\">\r\n          <label htmlFor=\"txtUsername\">Username</label>\r\n          <input\r\n            id=\"txtUsername\"\r\n            className=\"textbox\"\r\n            type=\"text\"\r\n            ref={usernameRef}\r\n            required\r\n          />\r\n          <label htmlFor=\"txtPassword\">Password</label>\r\n          <input\r\n            id=\"txtPassword\"\r\n            className=\"textbox\"\r\n            type=\"password\"\r\n            ref={passwordRef}\r\n            required\r\n          />\r\n          <label htmlFor=\"txtConfirmPassword\">Confirm Password</label>\r\n          <input\r\n            id=\"txtConfirmPassword\"\r\n            className=\"textbox\"\r\n            type=\"password\"\r\n            ref={confirmpasswordRef}\r\n            required\r\n          />\r\n          <label htmlFor=\"txtEmail\">Email</label>\r\n          <input\r\n            id=\"txtEmail\"\r\n            className=\"textbox\"\r\n            type=\"email\"\r\n            ref={emailRef}\r\n          />\r\n          <label htmlFor=\"txtFirstname\">Firstname</label>\r\n          <input\r\n            id=\"txtFirstname\"\r\n            className=\"textbox\"\r\n            type=\"text\"\r\n            ref={firstnameRef}\r\n          />\r\n          <label htmlFor=\"txtLastname\">Lastname</label>\r\n          <input\r\n            id=\"txtLastname\"\r\n            className=\"textbox\"\r\n            type=\"text\"\r\n            ref={lastnameRef}\r\n          />\r\n          <label htmlFor=\"txtBirthday\">Birthday</label>\r\n          <input\r\n            id=\"txtBirthday\"\r\n            className=\"textbox\"\r\n            type=\"text\"\r\n            ref={birthdayRef}\r\n          />\r\n        </div>\r\n        <div className=\"flex m-1\">\r\n          <button\r\n            id=\"btnRegister\"\r\n            className=\"button m-1\"\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            onClick={handleSave}\r\n          >\r\n            {Add_or_Update}\r\n          </button>\r\n          <button\r\n            id=\"btnCancel\"\r\n            disabled={loading}\r\n            className=\"button m-1\"\r\n            onClick={handleClose}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserInfo;\r\n","import React, { useState, useEffect } from \"react\";\r\n// import { Link , useHistory } from 'react-router-dom';\r\n// import { useAuth } from '../../Context/AuthContext';\r\nimport firebase from \"../../../Database/firebase\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\n// import DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport UserInfo from \"../UserInfo/UserInfo\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    Width: 350,\r\n  },\r\n});\r\n\r\nfunction UserList() {\r\n  // const history = useHistory();\r\n  const [UserList, setUserList] = useState([]);\r\n  const classes = useStyles();\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [userInfo, setuserInfo] = useState(null);\r\n  const [deleteDialog, setdeleteDialog] = useState(null);\r\n\r\n  const fetchUserList = async () => {\r\n    const db = firebase.firestore();\r\n    const data = await db.collection(\"users\").get();\r\n    setUserList(data.docs.map((doc) => ({ id: doc.id, ...doc.data() })));\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUserList();\r\n  }, []);\r\n\r\n  const handleOpen = () => {\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpenModal(false);\r\n  };\r\n\r\n  const handleCreate = () => {\r\n    setuserInfo(null);\r\n    handleOpen();\r\n  };\r\n\r\n  const handleUpdate = (data) => {\r\n    setuserInfo(data);\r\n    handleOpen();\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      if (typeof userInfo !== \"undefined\" && userInfo !== null && userInfo !== \"\") {\r\n        await firebase.firestore().collection(\"users\").doc(userInfo.id).delete();\r\n        deleteDialogClose();\r\n        fetchUserList();\r\n      } \r\n    } catch (error) {\r\n\r\n    }\r\n  };\r\n\r\n  const deleteDialogOpen = (data) => {\r\n    setuserInfo(data);\r\n    setdeleteDialog(true);\r\n  };\r\n\r\n  const deleteDialogClose = () => {\r\n    setdeleteDialog(false);\r\n    setuserInfo(null);\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: \"80vw\" }}>\r\n      UserList Page Hello\r\n      <button id=\"btnadduser\" className=\"button\" onClick={handleCreate}>\r\n        Add new User\r\n      </button>\r\n      <TableContainer component={Paper}>\r\n        <Table className={classes.table} aria-label=\"user-list-table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">username</TableCell>\r\n              <TableCell align=\"center\">Firstname</TableCell>\r\n              <TableCell align=\"center\">Lastname</TableCell>\r\n              <TableCell align=\"center\">Email</TableCell>\r\n              <TableCell align=\"center\">Birthday</TableCell>\r\n              <TableCell align=\"center\">Registered date</TableCell>\r\n              <TableCell align=\"center\">Action</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {UserList.map((row, index) => (\r\n              <TableRow key={row.username}>\r\n                <TableCell align=\"right\">{row.username}</TableCell>\r\n                <TableCell align=\"right\">{row.firstname}</TableCell>\r\n                <TableCell align=\"right\">{row.lastname}</TableCell>\r\n                <TableCell align=\"right\">{row.email}</TableCell>\r\n                <TableCell align=\"center\">{row.birthday}</TableCell>\r\n                <TableCell align=\"center\">{row.created_date}</TableCell>\r\n                <TableCell align=\"center\">\r\n                  <button\r\n                    id={index}\r\n                    className=\"button mx-1\"\r\n                    value={row.id}\r\n                    onClick={() => handleUpdate(row)}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    id={index}\r\n                    className=\"button\"\r\n                    value={row.id}\r\n                    onClick={() => deleteDialogOpen(row)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Modal open={openModal} onClose={handleClose}>\r\n          <UserInfo\r\n            userInfo={userInfo}\r\n            setuserInfo={setuserInfo}\r\n            handleClose={handleClose}\r\n            fetchUserList={fetchUserList}\r\n          />\r\n      </Modal>\r\n      <Dialog open={deleteDialog} onClose={deleteDialogClose}>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Do you want to delete {userInfo === null ? \"\" : userInfo.username} ?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <button onClick={handleDelete} className=\"button\">\r\n            Delete\r\n          </button>\r\n          <button onClick={deleteDialogClose} className=\"button\">\r\n            Cancel\r\n          </button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserList;\r\n","import React from 'react';\r\n// import firebase from '../../Database/firebase';\r\n\r\nconst CustomerList = () => {\r\n    return (\r\n        <div>\r\n            Customer list\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CustomerList\r\n\r\n","import React, { useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useHistory,\n} from \"react-router-dom\";\nimport PrivateRoute from \"./Component/PrivateRoute/PrivateRoute\";\nimport \"./App.css\";\nimport Login from \"./Component/Login/Login\";\n// import Register from \"./Component/Register/Register\";\nimport UserList from \"./Component/User/UserList/UserList\";\nimport UserInfo from \"./Component/User/UserInfo/UserInfo\";\nimport CustomerList from \"./Component/Customer/CustomerList/CustomerList\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport \"./Style/Utility.css\";\n\nfunction App() {\n  const [error, setError] = useState();\n  const [showAlert, setshowAlert] = useState(false);\n  const history = useHistory();\n\n  function handleLogout() {\n    try {\n      localStorage.removeItem(\"authToken\");\n      history.push(\"/\");\n    } catch (error) {\n      setError(`Error : cannot logout ${error}`);\n      setshowAlert(true);\n    }\n  }\n\n  return (\n    <div>\n      <Router>\n        <div className=\"section-header\">User management\n          {localStorage.getItem(\"authToken\") === null ? (\n            \"\"\n          ) : (\n            <nav>\n              <ul className=\"flex flex-row flex-start\">\n                <li className=\"mx-1\">\n                  <Link to=\"/UserList\">UserList</Link>\n                </li>\n                <li className=\"mx-1\">\n                  <Link to=\"/CustomerList\">Customer list</Link>\n                </li>\n                <li className=\"mx-1\">\n                  <button\n                    id=\"btnLogout\"\n                    className=\"button\"\n                    onClick={handleLogout}\n                  >\n                    Sign-out\n                  </button>\n                </li>\n              </ul>\n            </nav>\n          )}\n          </div>\n          <div className=\"section-content\">\n            <Switch>\n              <Route exact path=\"/\" component={Login} />\n              <Route exact path=\"/Login\" component={Login} />\n              <PrivateRoute exact path=\"/UserList\" component={UserList} />\n              <PrivateRoute exact path=\"/UserInfo\" component={UserInfo} />\n              {/* <PrivateRoute path=\"/Register\" component={Register} /> */}\n              <PrivateRoute\n                exact\n                path=\"/CustomerList\"\n                component={CustomerList}\n              />\n            </Switch>\n            <Collapse in={showAlert}>\n              <Alert severity=\"error\">{error}</Alert>\n            </Collapse>\n          </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}