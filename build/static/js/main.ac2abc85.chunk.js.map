{"version":3,"sources":["Context/UserContext.js","Component/PrivateRoute/PrivateRoute.js","Database/firebase.js","Component/Login/Login.js","Component/MenuList/MenuList.js","Component/User/UserInfo/UserInfo.js","Component/User/UserList/UserList.js","Component/Customer/CustomerList/CustomerList.js","App.js","index.js"],"names":["UserContext","createContext","PrivateRoute","Component","component","rest","authToken","useContext","render","props","to","firebase","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","Login","usernameRef","useRef","passwordRef","useState","error","setError","loading","setLoading","history","useHistory","showAlert","setShowAlert","setAuthToken","Login_Click","a","db","firestore","collection","where","current","value","get","data","docs","localStorage","setItem","id","push","className","onSubmit","autoComplete","htmlFor","type","ref","required","onClick","disabled","Collapse","in","Alert","severity","onClose","MenuList","removeItem","console","log","UserInfo","handleClose","userInfo","setuserInfo","fetchUserList","Add_or_Update","setAdd_or_Update","emailRef","confirmpasswordRef","firstnameRef","lastnameRef","birthdayRef","setSeverity","Date","selectedDate","setSelectedDate","CreateUser","add","username","email","password","firstname","lastname","birthday","UpdateUser","doc","set","GetUser","useEffect","e","preventDefault","utils","DateFnsUtils","margin","format","onChange","date","KeyboardButtonProps","useStyles","makeStyles","table","Width","UserList","setUserList","classes","openModal","setOpenModal","deleteDialog","setdeleteDialog","map","handleOpen","handleDelete","delete","deleteDialogClose","style","width","TableContainer","Paper","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","row","index","toString","created_date","Modal","open","Dialog","DialogContent","DialogContentText","DialogActions","CustomerList","App","Provider","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ac2abc85.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport const UserContext = createContext(null);\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { UserContext } from \"../../Context/UserContext\";\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n  const { authToken } = useContext(UserContext);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return typeof authToken === \"undefined\" ||\r\n          authToken === null ||\r\n          authToken === \"\" ? (\r\n          <Redirect to=\"/Login\" />\r\n        ) : (\r\n          <Component {...props} />\r\n        );\r\n      }}\r\n    ></Route>\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAPD_VwI_VDDHlmObOcseFKoQizYbr2_0M\",\r\n  authDomain: \"user-management-c4d51.firebaseapp.com\",\r\n  projectId: \"user-management-c4d51\",\r\n  storageBucket: \"user-management-c4d51.appspot.com\",\r\n  messagingSenderId: \"881201654011\",\r\n  appId: \"1:881201654011:web:18c939fe8273fb1d49685e\",\r\n  measurementId: \"G-XW7GKG0FWM\",\r\n};\r\n\r\nif (firebase.apps.length === 0) {\r\n  firebase.initializeApp(firebaseConfig);\r\n}\r\nexport const auth = firebase.auth();\r\n\r\nexport default firebase;\r\n","import React, { useRef, useState, useContext } from \"react\";\r\nimport firebase from \"../../Database/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport { UserContext } from \"../../Context/UserContext\";\r\n\r\nfunction Login() {\r\n  const usernameRef = useRef(\"\");\r\n  const passwordRef = useRef(\"\");\r\n  const [error, setError] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const {authToken , setAuthToken} = useContext(UserContext);\r\n\r\n  const Login_Click = async () => {\r\n    setLoading(true);\r\n    const db = firebase.firestore();\r\n    const data = await db\r\n      .collection(\"users\")\r\n      .where(\"username\", \"==\", usernameRef.current.value)\r\n      .where(\"password\", \"==\", passwordRef.current.value)\r\n      .get();\r\n\r\n    if (data.docs.length === 1) {\r\n      //login success\r\n\r\n      setLoading(false);\r\n\r\n      localStorage.setItem(\"authToken\", data.docs[0].id);\r\n      setAuthToken(data.docs[0].id);\r\n\r\n      history.push(\"/UserList\");\r\n    } else {\r\n      //login failed\r\n      setError(\"Username does not exist or username and password incorrect\");\r\n      setLoading(false);\r\n      setShowAlert(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"section-login\">\r\n      <form onSubmit={Login_Click} autoComplete=\"off\">\r\n        <div className=\"card\">\r\n          <h2 className=\"text-center m-1\">Login Page{authToken}</h2>\r\n          <div className=\"container grid grid-2\">\r\n            <label htmlFor=\"txtUsername\">Username</label>\r\n            <input\r\n              id=\"txtUsername\"\r\n              type=\"email\"\r\n              ref={usernameRef}\r\n              required\r\n              className=\"textbox\"\r\n            />\r\n            <label htmlFor=\"txtPassword\">Password</label>\r\n            <input\r\n              id=\"txtPassword\"\r\n              type=\"password\"\r\n              ref={passwordRef}\r\n              className=\"textbox\"\r\n            />\r\n            <span></span>\r\n            <input\r\n              id=\"btnlogin\"\r\n              type=\"submit\"\r\n              className=\"button m-1\"\r\n              onClick={Login_Click}\r\n              disabled={loading}\r\n              value=\"Sign-in\"\r\n            />\r\n          </div>\r\n          <Collapse in={showAlert}>\r\n            <Alert severity=\"error\" onClose={() => setShowAlert(false)}>\r\n              {error}\r\n            </Alert>\r\n          </Collapse>\r\n          <label>\r\n            * You can use sysadmin for Username and p@ssw0rd for Password\r\n          </label>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./MenuList.css\";\r\nimport { UserContext } from \"../../Context/UserContext\";\r\n\r\nconst MenuList = () => {\r\n  const { authToken, setAuthToken } = useContext(UserContext);\r\n  const history = useHistory();\r\n  function handleLogout() {\r\n    try {\r\n      localStorage.removeItem(\"authToken\");\r\n      setAuthToken(null);\r\n      history.push(\"/Login\");\r\n    } catch (error) {\r\n      console.log(\"Error : \" + error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {typeof authToken === \"undefined\" ||\r\n      authToken === null ||\r\n      authToken === \"\" ? (\r\n        \"\"\r\n      ) : (\r\n        <nav>\r\n          <ul>\r\n            <li className=\"mx-1\">\r\n              <Link to=\"/UserList\" className=\"link\">\r\n                UserList\r\n              </Link>\r\n            </li>\r\n            <li className=\"mx-1\">\r\n              <Link to=\"/CustomerList\" className=\"link\">\r\n                Customer list\r\n              </Link>\r\n            </li>\r\n            <li className=\"mx-1 link link-signout\">\r\n                <button\r\n                  id=\"btnLogout\"\r\n                  className=\"button btn-signout\"\r\n                  onClick={handleLogout}\r\n                >\r\n                  Sign-out\r\n                </button>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuList;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport firebase from \"../../../Database/firebase\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport \"date-fns\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\n\r\nfunction UserInfo({ handleClose, userInfo, setuserInfo, fetchUserList }) {\r\n  const [Add_or_Update, setAdd_or_Update] = useState(\"Add user\");\r\n  // const [userInfo, setUserInfo] = useState(null);\r\n  const usernameRef = useRef();\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const confirmpasswordRef = useRef();\r\n  const firstnameRef = useRef();\r\n  const lastnameRef = useRef();\r\n  const birthdayRef = useRef();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const [severity, setSeverity] = useState(\"info\");\r\n\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n\r\n  const handleDateChange = (date) => {\r\n    setSelectedDate(date);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (\r\n      typeof userInfo === \"undefined\" ||\r\n      userInfo === null ||\r\n      userInfo === \"\"\r\n    ) {\r\n      CreateUser();\r\n    } else {\r\n      UpdateUser();\r\n    }\r\n  };\r\n\r\n  const CreateUser = async () => {\r\n    try {\r\n      setLoading(true);\r\n      if (\r\n        usernameRef.current.value !== \"\" &&\r\n        passwordRef.current.value !== \"\" &&\r\n        passwordRef.current.value === confirmpasswordRef.current.value\r\n      ) {\r\n        await firebase.firestore().collection(\"users\").add({\r\n          username: usernameRef.current.value,\r\n          email: emailRef.current.value,\r\n          password: passwordRef.current.value,\r\n          firstname: firstnameRef.current.value,\r\n          lastname: lastnameRef.current.value,\r\n          birthday: selectedDate\r\n        });\r\n\r\n        setuserInfo(null);\r\n        fetchUserList();\r\n        handleClose();\r\n      } else {\r\n        setError(\"Username is null or Password do not match\");\r\n        setSeverity(\"warning\");\r\n        setShowAlert(true);\r\n      }\r\n    } catch (error) {\r\n      setError(`Error : Cannot register ${error}`);\r\n      setSeverity(\"error\");\r\n      setShowAlert(true);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const UpdateUser = async () => {\r\n    try {\r\n      setLoading(true);\r\n      if (\r\n        usernameRef.current.value !== \"\" &&\r\n        passwordRef.current.value !== \"\" &&\r\n        passwordRef.current.value === confirmpasswordRef.current.value\r\n      ) {\r\n\r\n        await firebase.firestore().collection(\"users\").doc(userInfo.id).set({\r\n          username: usernameRef.current.value,\r\n          email: emailRef.current.value,\r\n          password: passwordRef.current.value,\r\n          firstname: firstnameRef.current.value,\r\n          lastname: lastnameRef.current.value,\r\n          birthday: selectedDate\r\n        });\r\n\r\n        setuserInfo(null);\r\n        fetchUserList();\r\n        handleClose();\r\n      } else {\r\n        setError(\"Username is null or Password do not match\");\r\n        setSeverity(\"warning\");\r\n        setShowAlert(true);\r\n      }\r\n    } catch (error) {\r\n      setError(`Error : Cannot register ${error}`);\r\n      setSeverity(\"error\");\r\n      setShowAlert(true);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const GetUser = async () => {\r\n    try {\r\n      const db = firebase.firestore();\r\n      const data = await db.collection(\"users\").doc(userInfo.id).get();\r\n      //setUserInfo(data.docs.map((doc) => ({ id: doc.id, ...doc.data() })));\r\n      usernameRef.current.value = data.data().username;\r\n      passwordRef.current.value = data.data().passwordRef;\r\n      confirmpasswordRef.current.value = data.data().passwordRef;\r\n      emailRef.current.value = data.data().email;\r\n      firstnameRef.current.value = data.data().firstname;\r\n      lastnameRef.current.value = data.data().lastname;\r\n      // birthdayRef.current.value = data.data().birthday;\r\n      setSelectedDate(data.data().birthday);\r\n    } catch (error) {\r\n      setError(`Error : Cannot get user from db ${error}`);\r\n      setSeverity(\"error\");\r\n      setShowAlert(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const Add_or_Update = () => {\r\n      if (\r\n        typeof userInfo !== \"undefined\" &&\r\n        userInfo !== null &&\r\n        userInfo !== \"\"\r\n      ) {\r\n        setAdd_or_Update(\"Update\");\r\n        GetUser();\r\n      } else {\r\n        setAdd_or_Update(\"Add new\");\r\n      }\r\n    };\r\n    Add_or_Update();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"section-userinfo card\">\r\n      <h3 className=\"text-center m-1\">User Information</h3>\r\n      <Collapse in={showAlert}>\r\n        <Alert severity={severity} onClose={() => setShowAlert(false)}>\r\n          {error}\r\n        </Alert>\r\n      </Collapse>\r\n      <form onSubmit={(e) => e.preventDefault()} autoComplete=\"off\">\r\n        <div className=\"grid m-1\">\r\n          <label htmlFor=\"txtUsername\">Username</label>\r\n          <input\r\n            id=\"txtUsername\"\r\n            className=\"textbox\"\r\n            type=\"text\"\r\n            ref={usernameRef}\r\n            required\r\n          />\r\n          <label htmlFor=\"txtPassword\">Password</label>\r\n          <input\r\n            id=\"txtPassword\"\r\n            className=\"textbox\"\r\n            type=\"password\"\r\n            ref={passwordRef}\r\n            required\r\n          />\r\n          <label htmlFor=\"txtConfirmPassword\">Confirm Password</label>\r\n          <input\r\n            id=\"txtConfirmPassword\"\r\n            className=\"textbox\"\r\n            type=\"password\"\r\n            ref={confirmpasswordRef}\r\n            required\r\n          />\r\n          <label htmlFor=\"txtEmail\">Email</label>\r\n          <input\r\n            id=\"txtEmail\"\r\n            className=\"textbox\"\r\n            type=\"email\"\r\n            ref={emailRef}\r\n          />\r\n          <label htmlFor=\"txtFirstname\">Firstname</label>\r\n          <input\r\n            id=\"txtFirstname\"\r\n            className=\"textbox\"\r\n            type=\"text\"\r\n            ref={firstnameRef}\r\n          />\r\n          <label htmlFor=\"txtLastname\">Lastname</label>\r\n          <input\r\n            id=\"txtLastname\"\r\n            className=\"textbox\"\r\n            type=\"text\"\r\n            ref={lastnameRef}\r\n          />\r\n          <label htmlFor=\"txtBirthday\">Birthday</label>\r\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n            <KeyboardDatePicker\r\n              margin=\"normal\"\r\n              id=\"txtBirthday\"\r\n              ref={birthdayRef}\r\n              format=\"dd/MM/yyyy\"\r\n              value={selectedDate}\r\n              onChange={handleDateChange}\r\n              KeyboardButtonProps={{\r\n                \"aria-label\": \"change date\",\r\n              }}\r\n            />\r\n          </MuiPickersUtilsProvider>\r\n        </div>\r\n        <div className=\"flex m-1\">\r\n          <button\r\n            id=\"btnRegister\"\r\n            className=\"button m-1\"\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            onClick={handleSave}\r\n          >\r\n            {Add_or_Update}\r\n          </button>\r\n          <button\r\n            id=\"btnCancel\"\r\n            disabled={loading}\r\n            className=\"button m-1\"\r\n            onClick={handleClose}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserInfo;\r\n","import React, { useState, useEffect } from \"react\";\r\n// import { Link , useHistory } from 'react-router-dom';\r\n// import { useAuth } from '../../Context/AuthContext';\r\nimport firebase from \"../../../Database/firebase\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\n// import DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport UserInfo from \"../UserInfo/UserInfo\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    Width: 350,\r\n  },\r\n});\r\n\r\nfunction UserList() {\r\n  // const history = useHistory();\r\n  const [UserList, setUserList] = useState([]);\r\n  const classes = useStyles();\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [userInfo, setuserInfo] = useState(null);\r\n  const [deleteDialog, setdeleteDialog] = useState(null);\r\n\r\n  const fetchUserList = async () => {\r\n    const db = firebase.firestore();\r\n    const data = await db.collection(\"users\").get();\r\n    setUserList(data.docs.map((doc) => ({ id: doc.id, ...doc.data() })));\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUserList();\r\n  }, []);\r\n\r\n  const handleOpen = () => {\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpenModal(false);\r\n  };\r\n\r\n  const handleCreate = () => {\r\n    setuserInfo(null);\r\n    handleOpen();\r\n  };\r\n\r\n  const handleUpdate = (data) => {\r\n    setuserInfo(data);\r\n    handleOpen();\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      if (typeof userInfo !== \"undefined\" && userInfo !== null && userInfo !== \"\") {\r\n        await firebase.firestore().collection(\"users\").doc(userInfo.id).delete();\r\n        deleteDialogClose();\r\n        fetchUserList();\r\n      } \r\n    } catch (error) {\r\n\r\n    }\r\n  };\r\n\r\n  const deleteDialogOpen = (data) => {\r\n    setuserInfo(data);\r\n    setdeleteDialog(true);\r\n  };\r\n\r\n  const deleteDialogClose = () => {\r\n    setdeleteDialog(false);\r\n    setuserInfo(null);\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: \"80vw\" }}>\r\n      UserList Page Hello\r\n      <button id=\"btnadduser\" className=\"button\" onClick={handleCreate}>\r\n        Add new User\r\n      </button>\r\n      <TableContainer component={Paper}>\r\n        <Table className={classes.table} aria-label=\"user-list-table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">username</TableCell>\r\n              <TableCell align=\"center\">Firstname</TableCell>\r\n              <TableCell align=\"center\">Lastname</TableCell>\r\n              <TableCell align=\"center\">Email</TableCell>\r\n              <TableCell align=\"center\">Birthday</TableCell>\r\n              <TableCell align=\"center\">Registered date</TableCell>\r\n              <TableCell align=\"center\">Action</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {UserList.map((row, index) => (\r\n              <TableRow key={row.username}>\r\n                <TableCell align=\"right\">{row.username}</TableCell>\r\n                <TableCell align=\"right\">{row.firstname}</TableCell>\r\n                <TableCell align=\"right\">{row.lastname}</TableCell>\r\n                <TableCell align=\"right\">{row.email}</TableCell>\r\n                <TableCell align=\"center\">{(new Date(row.birthday)).toString()}</TableCell>\r\n                <TableCell align=\"center\">{row.created_date}</TableCell>\r\n                <TableCell align=\"center\">\r\n                  <button\r\n                    id={index}\r\n                    className=\"button mx-1\"\r\n                    value={row.id}\r\n                    onClick={() => handleUpdate(row)}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    id={index}\r\n                    className=\"button\"\r\n                    value={row.id}\r\n                    onClick={() => deleteDialogOpen(row)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Modal open={openModal} onClose={handleClose}>\r\n          <UserInfo\r\n            userInfo={userInfo}\r\n            setuserInfo={setuserInfo}\r\n            handleClose={handleClose}\r\n            fetchUserList={fetchUserList}\r\n          />\r\n      </Modal>\r\n      <Dialog open={deleteDialog} onClose={deleteDialogClose}>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Do you want to delete {userInfo === null ? \"\" : userInfo.username} ?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <button onClick={handleDelete} className=\"button\">\r\n            Delete\r\n          </button>\r\n          <button onClick={deleteDialogClose} className=\"button\">\r\n            Cancel\r\n          </button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserList;\r\n","import React from 'react';\r\n// import firebase from '../../Database/firebase';\r\n\r\nconst CustomerList = () => {\r\n    return (\r\n        <div>\r\n            Customer list\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CustomerList\r\n\r\n","import React, { useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport PrivateRoute from \"./Component/PrivateRoute/PrivateRoute\";\nimport \"./Style/App.css\";\nimport Login from \"./Component/Login/Login\";\nimport MenuList from \"./Component/MenuList/MenuList\";\n// import Register from \"./Component/Register/Register\";\nimport UserList from \"./Component/User/UserList/UserList\";\nimport UserInfo from \"./Component/User/UserInfo/UserInfo\";\nimport CustomerList from \"./Component/Customer/CustomerList/CustomerList\";\nimport { UserContext } from \"./Context/UserContext.js\";\nimport \"./Style/Utility.css\";\n\nfunction App() {\n\n  const [authToken, setAuthToken] = useState(null);\n  //const value = useMemo(() => ({ authToken , setAuthToken }), [authToken, setAuthToken]);\n\n  return (\n    <div>\n      <UserContext.Provider value={{authToken , setAuthToken}}>\n        <Router>\n          <div className=\"section-header\">User management</div>\n          <div className=\"section-menu\">\n            <MenuList />\n          </div>\n          <div className=\"section-content\">\n            <Switch>\n              <Route exact path=\"/\" component={Login} />\n              <Route exact path=\"/Login\" component={Login} />\n              <PrivateRoute exact path=\"/UserList\" component={UserList} />\n              <PrivateRoute exact path=\"/UserInfo\" component={UserInfo} />\n              {/* <PrivateRoute path=\"/Register\" component={Register} /> */}\n              <PrivateRoute\n                exact\n                path=\"/CustomerList\"\n                component={CustomerList}\n              />\n            </Switch>\n          </div>\n        </Router>\n      </UserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}